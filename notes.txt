Fake test:

ancestors_of_watched             2971    8431(  2.84)     288(  0.10)     55
children_of_watched_repos        3080 1078146(350.05)   17619(  5.72)   6021
coocs                            3498  369004(105.49)  205980( 58.89)    162
in_cluster_repo                  4788  736493(153.82)  651175(136.00)    200
in_cluster_user                  4788  915321(191.17)  877177(183.20)    200
in_id_range                      4788   43466(  9.08)   40461(  8.45)     57
parents_of_watched               2971    8143(  2.74)    8143(  2.74)     55
repos_by_watched_authors         4788  615732(128.60)  610637(127.53)   4948
repos_with_same_name             4273 1480456(346.47) 1451433(339.68)   6928
top_twenty                       4788   95760( 20.00)   27101(  5.66)     20


Real test:

ancestors_of_watched             2833    9125(  3.22)     300(  0.11)    220
children_of_watched_repos        3490 1402558(401.88)   22617(  6.48)   7253
coocs                            3920  420669(107.31)  226227( 57.71)    162
in_cluster_repo                  4786  756122(157.99)  661863(138.29)    200
in_cluster_user                  4788  912798(190.64)  864139(180.48)    200
in_id_range                      4788   45004(  9.40)   42097(  8.79)     46
parents_of_watched               2833    8825(  3.12)    8825(  3.12)    219
repos_by_watched_authors         4786  806416(168.49)  800937(167.35)   7125
repos_with_same_name             4359 1805055(414.10) 1767657(405.52)   8784
top_twenty                       4788   95760( 20.00)   24160(  5.05)     20


20000 (unbiased) users, looking at rule accuracy:

                                        --------- absolute ----------  -------- incremental --------
                                    fired  corr   rcl%   nadded     avg   corr   rcl%   nadded     avg    maxsz   
 1 parents_of_watched               12464  6179(49.57%)   14890(   1.19)  6179(49.57%)   14890(   1.19)      32
 2 ancestors_of_watched             12464  6184(49.61%)   15895(   1.28)     5( 0.04%)    1005(   0.08)      32
 3 repos_by_watched_authors         19999  5174(25.87%) 2406984( 120.36)  4673(23.37%) 2405421( 120.28)    8173
 4 repos_with_same_name             17823  6918(38.82%) 6147479( 344.92)   512( 2.87%) 6060832( 340.06)   12919
 5 children_of_watched_repos        12917   822( 6.36%) 4513153( 349.40)    31( 0.24%)   73781(   5.71)   10178
 6 in_cluster_user                  20000  3847(19.23%) 3741561( 187.08)  2030(10.15%) 3654691( 182.73)     200
 7 in_cluster_repo                  20000  1690( 8.45%) 2955454( 147.77)   307( 1.53%) 2662277( 133.11)     200
 8 in_id_range                      20000  1406( 7.03%)  166920(   8.35)   423( 2.12%)  163830(   8.19)     106
 9 coocs                            14389  5434(37.76%) 1454873( 101.11)  1036( 7.20%)  863293(  60.00)     155
10 top_twenty                       20000  1479( 7.39%)  387329(  19.37)    51( 0.26%)  127533(   6.38)      20
   total                                                                 15247


  generator                        fired   corr 
1 generator.parents_of_watched     12464  6179(49.57%)   14890(   1.19)  6179(49.57%)   14890(   1.19)      32
2 generator.ancestors_of_watched   12464  6184(49.61%)   15895(   1.28)     5( 0.04%)    1005(   0.08)      32
3 generator.by_watched_authors     19999  4278(21.39%)  683331(  34.17)  3874(19.37%)  682607(  34.13)     100
4 generator.same_name              17823  6808(38.20%) 1010006(  56.67)   517( 2.90%)  991585(  55.64)     100
5 generator.children_of_watched    12917   745( 5.77%)  759004(  58.76)    56( 0.43%)  330648(  25.60)     100
6 generator.in_cluster_user        20000  2987(14.94%) 1934443(  96.72)  1756( 8.78%) 1908692(  95.43)     100
7 generator.in_cluster_repo        20000  1563( 7.82%) 1936234(  96.81)   373( 1.86%) 1769798(  88.49)     100
8 generator.in_id_range            20000  1406( 7.03%)  166913(   8.35)   435( 2.17%)  164468(   8.22)      99
9 generator.coocs                  14389  4638(32.23%) 1154169(  80.21)  1094( 7.60%)  775630(  53.90)     100
  total                                                                 14289

Most losses occur in the by_watched_authors.

After same_name fixes (for ranked FV generation):

generator                        fired   corr 
ancestors_of_watched              6229  2997(48.11%)    8051(   1.29)     3( 0.05%)     500(   0.08)      30
by_watched_authors               10000  2389(23.89%)  537885(  53.79)  2167(21.67%)  537412(  53.74)     199
children_of_watched               6516   382( 5.86%)  383960(  58.93)    17( 0.26%)  160870(  24.69)     100
coocs                             7213  2373(32.90%)  579690(  80.37)   552( 7.65%)  386728(  53.62)     100
in_cluster_repo                  10000   777( 7.77%)  967541(  96.75)   175( 1.75%)  882519(  88.25)     100
in_cluster_user                  10000  1524(15.24%)  966655(  96.67)   860( 8.60%)  950748(  95.07)     100
in_id_range                      10000   662( 6.62%)   83359(   8.34)   207( 2.07%)   82125(   8.21)      99
most_watched                     10000  1708(17.08%)  983412(  98.34)   178( 1.78%)  541768(  54.18)     100
parents_of_watched                6229  2994(48.07%)    7551(   1.21)  2994(48.07%)    7551(   1.21)      29
same_name                         8864  3332(37.59%)  521225(  58.80)   252( 2.84%)  510648(  57.61)     100


Stats after by_watched_authors improvement:

generator                        fired   corr 
ancestors_of_watched              2971  1461(49.18%)    3712(   1.25)     3( 0.10%)     264(   0.09)      17
by_watched_authors                3426  1233(35.99%)  265847(  77.60)  1096(31.99%)  265512(  77.50)     200
children_of_watched               3080   164( 5.32%)  182070(  59.11)     8( 0.26%)   73265(  23.79)     100
coocs                             3498  1196(34.19%)  276337(  79.00)   165( 4.72%)  180246(  51.53)     100
in_cluster_repo                   4788   787(16.44%)  463105(  96.72)   103( 2.15%)  420836(  87.89)     100
in_cluster_user                   4788  1271(26.55%)  464027(  96.91)   613(12.80%)  453457(  94.71)     100
in_id_range                       4788   340( 7.10%)   41247(   8.61)   105( 2.19%)   40604(   8.48)      57
most_watched                      4788   795(16.60%)  471046(  98.38)    30( 0.63%)  240660(  50.26)     100
parents_of_watched                2971  1458(49.07%)    3448(   1.16)  1458(49.07%)    3448(   1.16)      16
same_name                         4242  1601(37.74%)  246959(  58.22)   118( 2.78%)  241886(  57.02)     100

Stats after coocs and coocs2 improvement
ancestors_of_watched               246     3( 1.22%)     264(   1.07)     3( 1.22%)     264(   1.07)       4
by_watched_authors                3426  1233(35.99%)  265847(  77.60)  1096(31.99%)  265512(  77.50)     200
children_of_watched               3080   164( 5.32%)  182070(  59.11)     8( 0.26%)   73265(  23.79)     100
coocs                             3722  1301(34.95%)  254636(  68.41)   157( 4.22%)  153944(  41.36)     100
coocs2                            3754  1413(37.64%)  274851(  73.22)    56( 1.49%)   70739(  18.84)     100
in_cluster_repo                   4788   787(16.44%)  463105(  96.72)   103( 2.15%)  420836(  87.89)     100
in_cluster_user                   4788  1271(26.55%)  464027(  96.91)   613(12.80%)  453457(  94.71)     100
in_id_range                       4788   340( 7.10%)   41247(   8.61)   105( 2.19%)   40604(   8.48)      57
most_watched                      4788   795(16.60%)  471046(  98.38)    23( 0.48%)  232982(  48.66)     100
parents_of_watched                2971  1458(49.07%)    3448(   1.16)  1458(49.07%)    3448(   1.16)      16
same_name                         4242  1601(37.74%)  246959(  58.22)   118( 2.78%)  241886(  57.02)     100


ancestors_of_watched               246     3( 1.22%)     264(   1.07)     3( 1.22%)     264(   1.07)       4
by_watched_authors                3426  1233(35.99%)  265847(  77.60)  1096(31.99%)  265512(  77.50)     200
children_of_watched               3080   164( 5.32%)  182070(  59.11)     8( 0.26%)   73256(  23.78)     100
coocs                             3722  1296(34.82%)  255004(  68.51)   155( 4.16%)  154871(  41.61)     100
coocs2                            3754  1386(36.92%)  275257(  73.32)    61( 1.62%)   75459(  20.10)     100
in_cluster_repo                   4788   787(16.44%)  463105(  96.72)   103( 2.15%)  420836(  87.89)     100
in_cluster_user                   4788  1271(26.55%)  464027(  96.91)   613(12.80%)  453457(  94.71)     100
in_id_range                       4788   340( 7.10%)   41247(   8.61)   105( 2.19%)   40604(   8.48)      57
most_watched                      4788   795(16.60%)  471046(  98.38)    26( 0.54%)  233535(  48.78)     100
parents_of_watched                2971  1458(49.07%)    3448(   1.16)  1458(49.07%)    3448(   1.16)      16
same_name                         4242  1601(37.74%)  246959(  58.22)   118( 2.78%)  241887(  57.02)     100


in_cluster_user fixed up:




half way through:

generator                        fired   corr 
ancestors_of_watched               454     3( 0.66%)     500(   1.10)     3( 0.66%)     500(   1.10)       6
by_watched_authors                7181  2611(36.36%)  565230(  78.71)  2368(32.98%)  564561(  78.62)     200
children_of_watched               6516   382( 5.86%)  383960(  58.93)    16( 0.25%)  161234(  24.74)     100
coocs                             7782  2600(33.41%)  531182(  68.26)   658( 8.46%)  368661(  47.37)     100
coocs2                            7837  2763(35.26%)  576999(  73.62)   141( 1.80%)  175759(  22.43)     100
in_cluster_repo                  10000   777( 7.77%)  967541(  96.75)   252( 2.52%)  906615(  90.66)     100
in_cluster_user                  10000   904( 9.04%)  983522(  98.35)   499( 4.99%)  957028(  95.70)     100
in_id_range                      10000   662( 6.62%)   83359(   8.34)   199( 1.99%)   81685(   8.17)      99
most_watched                     10000  1708(17.08%)  983412(  98.34)   204( 2.04%)  616996(  61.70)     100
parents_of_watched                6229  2994(48.07%)    7551(   1.21)  2994(48.07%)    7551(   1.21)      29
same_name                         8864  3332(37.59%)  521225(  58.80)   246( 2.78%)  510211(  57.56)     100

second lot of fixes, half way through:

